<!DOCTYPE html>
<html lang="zh"><head><title>ReprintTypscriptDecorator</title><meta charset="utf-8"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cn-fontsource-lxgw-wen-kai-gb-screen/font.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/lxgw-wenkai-mono-tc@5.0.4/index.min.css"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="🪴 ped-Yc's Garden"/><meta property="og:title" content="ReprintTypscriptDecorator"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="ReprintTypscriptDecorator"/><meta name="twitter:description" content="..."/><meta property="og:description" content="..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:url" content="https://dg.pedyc.site/static/og-image.png"/><meta name="twitter:image" content="https://dg.pedyc.site/static/og-image.png"/><meta property="og:image" content="https://dg.pedyc.site/static/og-image.png"/><meta property="twitter:domain" content="dg.pedyc.site"/><meta property="og:url" content="https://dg.pedyc.site/PKM/Blog/ReprintTypscriptDecorator"/><meta property="twitter:url" content="https://dg.pedyc.site/PKM/Blog/ReprintTypscriptDecorator"/><link rel="icon" href="../../static/icon.png"/><meta name="description" content="..."/><meta name="generator" content="Quartz"/><link href="../../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="PKM/Blog/ReprintTypscriptDecorator"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../..">🪴 ped-Yc's Garden</a></h2><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="暗色模式"><title>暗色模式</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="亮色模式"><title>亮色模式</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>搜索</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="搜索些什么" placeholder="搜索些什么"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="explorer"><button type="button" id="mobile-explorer" class="collapsed hide-until-loaded" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;Clippings&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Excalidraw&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Excalidraw/Scripts&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Excalidraw/Scripts/Downloaded&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Follow&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🍀-花园导览&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🍀-花园导览/其他&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🧰-本库指南&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🧰-本库指南/Tutorials&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于我&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Blog&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Diary&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Source&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Source/术语表&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Topics&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Topics/前端工程化&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SimpRead&quot;,&quot;collapsed&quot;:true}]" data-mobile="true" aria-controls="explorer-content" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" id="desktop-explorer" class="title-button" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;Clippings&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Excalidraw&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Excalidraw/Scripts&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Excalidraw/Scripts/Downloaded&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Follow&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🍀-花园导览&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🍀-花园导览/其他&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🧰-本库指南&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于本库/🧰-本库指南/Tutorials&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/关于我&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Blog&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Diary&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Source&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Source/术语表&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Topics&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;PKM/Topics/前端工程化&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;SimpRead&quot;,&quot;collapsed&quot;:true}]" data-mobile="false" aria-controls="explorer-content" aria-expanded="true"><h2>探索</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Clippings"><button class="folder-button"><span class="folder-title">Clippings</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Clippings"><li><a href="../../Clippings/「浏览器工作原理」写给女友的秘籍-浏览器组成-and-amp;网络请求篇（1.2W字)" data-for="Clippings/「浏览器工作原理」写给女友的秘籍-浏览器组成-and-amp;网络请求篇（1.2W字)">「浏览器工作原理」写给女友的秘籍-浏览器组成&amp;amp;网络请求篇（1.2W字)</a></li><li><a href="../../Clippings/彻底明白作用域、执行上下文" data-for="Clippings/彻底明白作用域、执行上下文">彻底明白作用域、执行上下文</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Excalidraw"><button class="folder-button"><span class="folder-title">Excalidraw</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Excalidraw"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Excalidraw/Scripts"><button class="folder-button"><span class="folder-title">Scripts</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Excalidraw/Scripts"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Excalidraw/Scripts/Downloaded"><button class="folder-button"><span class="folder-title">Downloaded</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Excalidraw/Scripts/Downloaded"><li><a href="../../Excalidraw/Scripts/Downloaded/Add-Connector-Point" data-for="Excalidraw/Scripts/Downloaded/Add-Connector-Point">Add Connector Point</a></li><li><a href="../../Excalidraw/Scripts/Downloaded/Add-Next-Step-in-Process" data-for="Excalidraw/Scripts/Downloaded/Add-Next-Step-in-Process">Add Next Step in Process</a></li><li><a href="../../Excalidraw/Scripts/Downloaded/Auto-Layout" data-for="Excalidraw/Scripts/Downloaded/Auto-Layout">Auto Layout</a></li><li><a href="../../Excalidraw/Scripts/Downloaded/Box-Selected-Elements" data-for="Excalidraw/Scripts/Downloaded/Box-Selected-Elements">Box Selected Elements</a></li><li><a href="../../Excalidraw/Scripts/Downloaded/Connect-elements" data-for="Excalidraw/Scripts/Downloaded/Connect-elements">Connect elements</a></li><li><a href="../../Excalidraw/Scripts/Downloaded/Mindmap-format" data-for="Excalidraw/Scripts/Downloaded/Mindmap-format">Mindmap format</a></li></ul></div></li></ul></div></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Follow"><button class="folder-button"><span class="folder-title">Follow</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Follow"><li><a href="../../Follow/科技爱好者周刊（第-336-期）：面对-" data-for="Follow/科技爱好者周刊（第-336-期）：面对-">科技爱好者周刊（第 336 期）：面对 </a></li><li><a href="../../Follow/如何拥有一个无限制、可联网、带本地知识库" data-for="Follow/如何拥有一个无限制、可联网、带本地知识库">如何拥有一个无限制、可联网、带本地知识库</a></li><li><a href="../../Follow/Meet-Angular-v19" data-for="Follow/Meet-Angular-v19">Meet Angular v19</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM"><button class="folder-button"><span class="folder-title">PKM</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/关于本库"><button class="folder-button"><span class="folder-title">关于本库</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/关于本库"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/关于本库/🍀-花园导览"><button class="folder-button"><span class="folder-title">🍀 花园导览</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/关于本库/🍀-花园导览"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/关于本库/🍀-花园导览/其他"><button class="folder-button"><span class="folder-title">其他</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/关于本库/🍀-花园导览/其他"><li><a href="../../PKM/关于本库/🍀-花园导览/其他/🎥-我的PPT" data-for="PKM/关于本库/🍀-花园导览/其他/🎥-我的PPT">🎥 我的PPT</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/其他/🏹-已发布长文" data-for="PKM/关于本库/🍀-花园导览/其他/🏹-已发布长文">🏹 已发布长文</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/其他/👬🏻-别的数字花园收录" data-for="PKM/关于本库/🍀-花园导览/其他/👬🏻-别的数字花园收录">👬🏻 别的数字花园收录</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/其他/📩-订阅newsletter" data-for="PKM/关于本库/🍀-花园导览/其他/📩-订阅newsletter">📩 订阅newsletter</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/其他/我用-Obsidian-建造了这座开源的数字花园，目前1000+笔记，每日更新" data-for="PKM/关于本库/🍀-花园导览/其他/我用-Obsidian-建造了这座开源的数字花园，目前1000+笔记，每日更新">我用 Obsidian 建造了这座开源的数字花园，目前1000+笔记，每日更新</a></li></ul></div></li><li><a href="../../PKM/关于本库/🍀-花园导览/🍀-花园导览" data-for="PKM/关于本库/🍀-花园导览/🍀-花园导览">🍀 花园导览</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/🏋-增肌减脂" data-for="PKM/关于本库/🍀-花园导览/🏋-增肌减脂">🏋 增肌减脂</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/👓-学习方法" data-for="PKM/关于本库/🍀-花园导览/👓-学习方法">👓 学习方法</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/🗜-效率工具" data-for="PKM/关于本库/🍀-花园导览/🗜-效率工具">🗜 效率工具</a></li><li><a href="../../PKM/关于本库/🍀-花园导览/🧀-知识管理" data-for="PKM/关于本库/🍀-花园导览/🧀-知识管理">🧀 知识管理</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/关于本库/🧰-本库指南"><button class="folder-button"><span class="folder-title">🧰 本库指南</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/关于本库/🧰-本库指南"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/关于本库/🧰-本库指南/Tutorials"><button class="folder-button"><span class="folder-title">Tutorials</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/关于本库/🧰-本库指南/Tutorials"><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/»-本库-PARA-笔记组织法工作流" data-for="PKM/关于本库/🧰-本库指南/Tutorials/»-本库-PARA-笔记组织法工作流">» 本库 PARA 笔记组织法工作流</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/»-本库笔记的emoji符号记录" data-for="PKM/关于本库/🧰-本库指南/Tutorials/»-本库笔记的emoji符号记录">» 本库笔记的emoji符号记录</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/»-本库非md的资源文件管理工作流" data-for="PKM/关于本库/🧰-本库指南/Tutorials/»-本库非md的资源文件管理工作流">» 本库非md的资源文件管理工作流</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/»-本库计划与回顾工作流" data-for="PKM/关于本库/🧰-本库指南/Tutorials/»-本库计划与回顾工作流">» 本库计划与回顾工作流</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/»-本库tutorial编写工作流" data-for="PKM/关于本库/🧰-本库指南/Tutorials/»-本库tutorial编写工作流">» 本库tutorial编写工作流</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/»-我的复习回顾工作流" data-for="PKM/关于本库/🧰-本库指南/Tutorials/»-我的复习回顾工作流">» 我的复习回顾工作流</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/§-本库obsidian使用说明书" data-for="PKM/关于本库/🧰-本库指南/Tutorials/§-本库obsidian使用说明书">§ 本库obsidian使用说明书</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/∑-本库-ACCESS-的文件夹入口汇总" data-for="PKM/关于本库/🧰-本库指南/Tutorials/∑-本库-ACCESS-的文件夹入口汇总">∑ 本库 ACCESS 的文件夹入口汇总</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/∑-本库-ACCESS-工作流汇总" data-for="PKM/关于本库/🧰-本库指南/Tutorials/∑-本库-ACCESS-工作流汇总">∑ 本库 ACCESS 工作流汇总</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/∑-本库obsidian基本配置及原因" data-for="PKM/关于本库/🧰-本库指南/Tutorials/∑-本库obsidian基本配置及原因">∑ 本库obsidian基本配置及原因</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞美化和排版" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞美化和排版">本库不建议在obsidian中搞美化和排版</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞任务管理" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞任务管理">本库不建议在obsidian中搞任务管理</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞太多奇技淫巧" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞太多奇技淫巧">本库不建议在obsidian中搞太多奇技淫巧</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞专属定制" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中搞专属定制">本库不建议在obsidian中搞专属定制</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中做Iframe嵌入" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库不建议在obsidian中做Iframe嵌入">本库不建议在obsidian中做Iframe嵌入</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库常用的快捷键及作用" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库常用的快捷键及作用">本库常用的快捷键及作用</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库工作区、界面划分逻辑及图标" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库工作区、界面划分逻辑及图标">本库工作区、界面划分逻辑及图标</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库内容分发至主流媒体平台的实践探索" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库内容分发至主流媒体平台的实践探索">本库内容分发至主流媒体平台的实践探索</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库启用的obsidian核心插件及原因" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库启用的obsidian核心插件及原因">本库启用的obsidian核心插件及原因</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库如何指定笔记同步至github" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库如何指定笔记同步至github">本库如何指定笔记同步至github</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库如何自动每日发布至web" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库如何自动每日发布至web">本库如何自动每日发布至web</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库如何自动每日同步至github" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库如何自动每日同步至github">本库如何自动每日同步至github</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库设计哲学及理念" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库设计哲学及理念">本库设计哲学及理念</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库涉及外部app调用的工作流" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库涉及外部app调用的工作流">本库涉及外部app调用的工作流</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库使用的主题及原因" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库使用的主题及原因">本库使用的主题及原因</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库使用的markdown语法和绝大多web发布方案兼容" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库使用的markdown语法和绝大多web发布方案兼容">本库使用的markdown语法和绝大多web发布方案兼容</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库使用的obsidian第三方插件列表" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库使用的obsidian第三方插件列表">本库使用的obsidian第三方插件列表</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库使用时遵守的核心原则" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库使用时遵守的核心原则">本库使用时遵守的核心原则</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库数字花园如何嵌入访问统计系统" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库数字花园如何嵌入访问统计系统">本库数字花园如何嵌入访问统计系统</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库通过todo标签进行简易计划和执行" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库通过todo标签进行简易计划和执行">本库通过todo标签进行简易计划和执行</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库推荐的obsidian入门路线及资源" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库推荐的obsidian入门路线及资源">本库推荐的obsidian入门路线及资源</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库需要单独配置的插件" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库需要单独配置的插件">本库需要单独配置的插件</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库在不同操作系统下兼容性的说明" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库在不同操作系统下兼容性的说明">本库在不同操作系统下兼容性的说明</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库ACCESS文件夹结构与混合笔记法" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库ACCESS文件夹结构与混合笔记法">本库ACCESS文件夹结构与混合笔记法</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库ACCESS文件夹说明的索引" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库ACCESS文件夹说明的索引">本库ACCESS文件夹说明的索引</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/本库ACCESS文件夹索引的索引" data-for="PKM/关于本库/🧰-本库指南/Tutorials/本库ACCESS文件夹索引的索引">本库ACCESS文件夹索引的索引</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/如何阅读由双链笔记组成的文章" data-for="PKM/关于本库/🧰-本库指南/Tutorials/如何阅读由双链笔记组成的文章">如何阅读由双链笔记组成的文章</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/为什么要开源笔记" data-for="PKM/关于本库/🧰-本库指南/Tutorials/为什么要开源笔记">为什么要开源笔记</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/众多双链笔记中我选obsidian的核心原因" data-for="PKM/关于本库/🧰-本库指南/Tutorials/众多双链笔记中我选obsidian的核心原因">众多双链笔记中我选obsidian的核心原因</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/macos系统中快捷输入各种特殊符号" data-for="PKM/关于本库/🧰-本库指南/Tutorials/macos系统中快捷输入各种特殊符号">macos系统中快捷输入各种特殊符号</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/Tutorials/obsidian初学过程中的感受" data-for="PKM/关于本库/🧰-本库指南/Tutorials/obsidian初学过程中的感受">obsidian初学过程中的感受</a></li></ul></div></li><li><a href="../../PKM/关于本库/🧰-本库指南/🌏-本库发布指南" data-for="PKM/关于本库/🧰-本库指南/🌏-本库发布指南">🌏 本库发布指南</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/🍫-本库方法论指南" data-for="PKM/关于本库/🧰-本库指南/🍫-本库方法论指南">🍫 本库方法论指南</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/🏗-本库Roadmap" data-for="PKM/关于本库/🧰-本库指南/🏗-本库Roadmap">🏗 本库Roadmap</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/📗本库模板设计指南" data-for="PKM/关于本库/🧰-本库指南/📗本库模板设计指南">📗本库模板设计指南</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/🧰-本库使用指南" data-for="PKM/关于本库/🧰-本库指南/🧰-本库使用指南">🧰 本库使用指南</a></li><li><a href="../../PKM/关于本库/🧰-本库指南/🆕-本库更新日志" data-for="PKM/关于本库/🧰-本库指南/🆕-本库更新日志">🆕 本库更新日志</a></li></ul></div></li><li><a href="../../PKM/关于本库/本库花园设计理念" data-for="PKM/关于本库/本库花园设计理念">本库花园设计理念</a></li><li><a href="../../PKM/关于本库/本库名词解释" data-for="PKM/关于本库/本库名词解释">本库名词解释</a></li><li><a href="../../PKM/关于本库/本库设计概述" data-for="PKM/关于本库/本库设计概述">本库设计概述</a></li><li><a href="../../PKM/关于本库/本库设计中碰到的问题" data-for="PKM/关于本库/本库设计中碰到的问题">本库设计中碰到的问题</a></li><li><a href="../../PKM/关于本库/本库文章状态" data-for="PKM/关于本库/本库文章状态">本库文章状态</a></li><li><a href="../../PKM/关于本库/本库元数据解析" data-for="PKM/关于本库/本库元数据解析">本库元数据解析</a></li><li><a href="../../PKM/关于本库/本库中的AI" data-for="PKM/关于本库/本库中的AI">本库中的AI</a></li><li><a href="../../PKM/关于本库/本库主题汇总" data-for="PKM/关于本库/本库主题汇总">本库主题汇总</a></li><li><a href="../../PKM/关于本库/本库组织方案" data-for="PKM/关于本库/本库组织方案">本库组织方案</a></li><li><a href="../../PKM/关于本库/关于本库" data-for="PKM/关于本库/关于本库">关于本库</a></li><li><a href="../../PKM/关于本库/数字花园相关设计" data-for="PKM/关于本库/数字花园相关设计">数字花园相关设计</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/关于我"><button class="folder-button"><span class="folder-title">关于我</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/关于我"><li><a href="../../PKM/关于我/我的工作流" data-for="PKM/关于我/我的工作流">我的工作流</a></li><li><a href="../../PKM/关于我/我的网站" data-for="PKM/关于我/我的网站">我的网站</a></li><li><a href="../../PKM/关于我/我的项目" data-for="PKM/关于我/我的项目">我的项目</a></li><li><a href="../../PKM/关于我/dg.pedyc" data-for="PKM/关于我/dg.pedyc">dg.pedyc</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/Blog"><button class="folder-button"><span class="folder-title">Blog</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/Blog"><li><a href="../../PKM/Blog/someInterestingQuestions01" data-for="PKM/Blog/someInterestingQuestions01">【一些有趣的问题】01，作用域与闭包</a></li><li><a href="../../PKM/Blog/someInterestingQuestions02" data-for="PKM/Blog/someInterestingQuestions02">【一些有趣的问题】02，事件循环</a></li><li><a href="../../PKM/Blog/someInterestingQuestions03" data-for="PKM/Blog/someInterestingQuestions03">【一些有趣的问题】03，浮点数</a></li><li><a href="../../PKM/Blog/someInterestingQuestions04" data-for="PKM/Blog/someInterestingQuestions04">【一些有趣的问题】04，逗号运算符</a></li><li><a href="../../PKM/Blog/someInterestingQuestions05" data-for="PKM/Blog/someInterestingQuestions05">【一些有趣的问题】05，for..in 与 for..of</a></li><li><a href="../../PKM/Blog/someInterestingQuestions06" data-for="PKM/Blog/someInterestingQuestions06">【一些有趣的问题】06，进制转换</a></li><li><a href="../../PKM/Blog/vueSourceCodeStudy03" data-for="PKM/Blog/vueSourceCodeStudy03">【Vue3 源码学习】03，使用渲染器来创建一个节点</a></li><li><a href="../../PKM/Blog/vueSourceCodeStudy04" data-for="PKM/Blog/vueSourceCodeStudy04">【Vue3 源码学习】03，使用渲染器来创建一个节点</a></li><li><a href="../../PKM/Blog/黑神话悟空歌词赏析——戒网" data-for="PKM/Blog/黑神话悟空歌词赏析——戒网">黑神话悟空歌词赏析——戒网</a></li><li><a href="../../PKM/Blog/黑神话悟空歌词赏析——未竟" data-for="PKM/Blog/黑神话悟空歌词赏析——未竟">黑神话悟空歌词赏析——未竟</a></li><li><a href="../../PKM/Blog/我的工具集" data-for="PKM/Blog/我的工具集">我的工具集</a></li><li><a href="../../PKM/Blog/我的知识管理方案" data-for="PKM/Blog/我的知识管理方案">我的知识管理方案</a></li><li><a href="../../PKM/Blog/正视平庸" data-for="PKM/Blog/正视平庸">正视平庸</a></li><li><a href="../../PKM/Blog/自由、宇宙和猫" data-for="PKM/Blog/自由、宇宙和猫">自由、宇宙和猫</a></li><li><a href="../../PKM/Blog/JS模块化梳理" data-for="PKM/Blog/JS模块化梳理">JS模块化梳理</a></li><li><a href="../../PKM/Blog/ReprintTypscriptDecorator" data-for="PKM/Blog/ReprintTypscriptDecorator">ReprintTypscriptDecorator</a></li><li><a href="../../PKM/Blog/ReprintVueCompositionAPI" data-for="PKM/Blog/ReprintVueCompositionAPI">ReprintVueCompositionAPI</a></li><li><a href="../../PKM/Blog/vueSourceCodeStudy01" data-for="PKM/Blog/vueSourceCodeStudy01">vueSourceCodeStudy01</a></li><li><a href="../../PKM/Blog/vueSourceCodeStudy02" data-for="PKM/Blog/vueSourceCodeStudy02">vueSourceCodeStudy02</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/Diary"><button class="folder-button"><span class="folder-title">Diary</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/Diary"><li><a href="../../PKM/Diary/🤖简悦" data-for="PKM/Diary/🤖简悦">🤖简悦</a></li><li><a href="../../PKM/Diary/2022-08-21" data-for="PKM/Diary/2022-08-21">2022-08-21</a></li><li><a href="../../PKM/Diary/2024-08-01" data-for="PKM/Diary/2024-08-01">2024-08-01</a></li><li><a href="../../PKM/Diary/2024-08-02" data-for="PKM/Diary/2024-08-02">2024-08-02</a></li><li><a href="../../PKM/Diary/2024-08-04" data-for="PKM/Diary/2024-08-04">2024-08-04</a></li><li><a href="../../PKM/Diary/2024-08-05" data-for="PKM/Diary/2024-08-05">2024-08-05</a></li><li><a href="../../PKM/Diary/2024-08-06" data-for="PKM/Diary/2024-08-06">2024-08-06</a></li><li><a href="../../PKM/Diary/2024-08-07" data-for="PKM/Diary/2024-08-07">2024-08-07</a></li><li><a href="../../PKM/Diary/2024-08-08" data-for="PKM/Diary/2024-08-08">2024-08-08</a></li><li><a href="../../PKM/Diary/2024-08-09" data-for="PKM/Diary/2024-08-09">2024-08-09</a></li><li><a href="../../PKM/Diary/2024-08-10" data-for="PKM/Diary/2024-08-10">2024-08-10</a></li><li><a href="../../PKM/Diary/2024-08-11" data-for="PKM/Diary/2024-08-11">2024-08-11</a></li><li><a href="../../PKM/Diary/2024-08-12" data-for="PKM/Diary/2024-08-12">2024-08-12</a></li><li><a href="../../PKM/Diary/2024-08-13" data-for="PKM/Diary/2024-08-13">2024-08-13</a></li><li><a href="../../PKM/Diary/2024-08-14" data-for="PKM/Diary/2024-08-14">2024-08-14</a></li><li><a href="../../PKM/Diary/2024-08-15" data-for="PKM/Diary/2024-08-15">2024-08-15</a></li><li><a href="../../PKM/Diary/2024-08-16" data-for="PKM/Diary/2024-08-16">2024-08-16</a></li><li><a href="../../PKM/Diary/2024-08-17" data-for="PKM/Diary/2024-08-17">2024-08-17</a></li><li><a href="../../PKM/Diary/2024-08-18" data-for="PKM/Diary/2024-08-18">2024-08-18</a></li><li><a href="../../PKM/Diary/2024-08-19" data-for="PKM/Diary/2024-08-19">2024-08-19</a></li><li><a href="../../PKM/Diary/2024-08-20" data-for="PKM/Diary/2024-08-20">2024-08-20</a></li><li><a href="../../PKM/Diary/2024-08-21" data-for="PKM/Diary/2024-08-21">2024-08-21</a></li><li><a href="../../PKM/Diary/2024-08-22" data-for="PKM/Diary/2024-08-22">2024-08-22</a></li><li><a href="../../PKM/Diary/2024-08-23" data-for="PKM/Diary/2024-08-23">2024-08-23</a></li><li><a href="../../PKM/Diary/2024-09-01" data-for="PKM/Diary/2024-09-01">2024-09-01</a></li><li><a href="../../PKM/Diary/2024-09-02" data-for="PKM/Diary/2024-09-02">2024-09-02</a></li><li><a href="../../PKM/Diary/2024-09-07" data-for="PKM/Diary/2024-09-07">2024-09-07</a></li><li><a href="../../PKM/Diary/2024-09-11" data-for="PKM/Diary/2024-09-11">2024-09-11</a></li><li><a href="../../PKM/Diary/2024-09-12" data-for="PKM/Diary/2024-09-12">2024-09-12</a></li><li><a href="../../PKM/Diary/2024-09-13" data-for="PKM/Diary/2024-09-13">2024-09-13</a></li><li><a href="../../PKM/Diary/2024-09-14" data-for="PKM/Diary/2024-09-14">2024-09-14</a></li><li><a href="../../PKM/Diary/2024-09-15" data-for="PKM/Diary/2024-09-15">2024-09-15</a></li><li><a href="../../PKM/Diary/2024-09-16" data-for="PKM/Diary/2024-09-16">2024-09-16</a></li><li><a href="../../PKM/Diary/2024-09-17" data-for="PKM/Diary/2024-09-17">2024-09-17</a></li><li><a href="../../PKM/Diary/2024-09-18" data-for="PKM/Diary/2024-09-18">2024-09-18</a></li><li><a href="../../PKM/Diary/2024-09-19" data-for="PKM/Diary/2024-09-19">2024-09-19</a></li><li><a href="../../PKM/Diary/2024-09-20" data-for="PKM/Diary/2024-09-20">2024-09-20</a></li><li><a href="../../PKM/Diary/2024-09-21" data-for="PKM/Diary/2024-09-21">2024-09-21</a></li><li><a href="../../PKM/Diary/2024-09-22" data-for="PKM/Diary/2024-09-22">2024-09-22 07:29</a></li><li><a href="../../PKM/Diary/2024-09-23" data-for="PKM/Diary/2024-09-23">2024-09-23 17:44</a></li><li><a href="../../PKM/Diary/2024-09-W38" data-for="PKM/Diary/2024-09-W38">2024-09-W38</a></li><li><a href="../../PKM/Diary/2024-10-06" data-for="PKM/Diary/2024-10-06">2024-10-06</a></li><li><a href="../../PKM/Diary/2024-10-08" data-for="PKM/Diary/2024-10-08">2024-10-08</a></li><li><a href="../../PKM/Diary/2024-10-10" data-for="PKM/Diary/2024-10-10">2024-10-10 17:30</a></li><li><a href="../../PKM/Diary/2024-10-11" data-for="PKM/Diary/2024-10-11">2024-10-11</a></li><li><a href="../../PKM/Diary/2024-10-15" data-for="PKM/Diary/2024-10-15">2024-10-15</a></li><li><a href="../../PKM/Diary/2024-10-18" data-for="PKM/Diary/2024-10-18">2024-10-18</a></li><li><a href="../../PKM/Diary/2024-10-27" data-for="PKM/Diary/2024-10-27">2024-10-27</a></li><li><a href="../../PKM/Diary/2024-10-28" data-for="PKM/Diary/2024-10-28">2024-10-28</a></li><li><a href="../../PKM/Diary/2024-10-29" data-for="PKM/Diary/2024-10-29">2024-10-29</a></li><li><a href="../../PKM/Diary/2024-10-30" data-for="PKM/Diary/2024-10-30">2024-10-30</a></li><li><a href="../../PKM/Diary/2024-10-31" data-for="PKM/Diary/2024-10-31">2024-10-31</a></li><li><a href="../../PKM/Diary/2024-11-01" data-for="PKM/Diary/2024-11-01">2024-11-01</a></li><li><a href="../../PKM/Diary/2024-11-02" data-for="PKM/Diary/2024-11-02">2024-11-02</a></li><li><a href="../../PKM/Diary/2024-11-03" data-for="PKM/Diary/2024-11-03">2024-11-03</a></li><li><a href="../../PKM/Diary/2024-11-04" data-for="PKM/Diary/2024-11-04">2024-11-04</a></li><li><a href="../../PKM/Diary/2024-11-05" data-for="PKM/Diary/2024-11-05">2024-11-05</a></li><li><a href="../../PKM/Diary/2024-11-06" data-for="PKM/Diary/2024-11-06">2024-11-06</a></li><li><a href="../../PKM/Diary/2024-11-07" data-for="PKM/Diary/2024-11-07">2024-11-07</a></li><li><a href="../../PKM/Diary/2024-11-08" data-for="PKM/Diary/2024-11-08">2024-11-08</a></li><li><a href="../../PKM/Diary/2024-11-09" data-for="PKM/Diary/2024-11-09">2024-11-09</a></li><li><a href="../../PKM/Diary/2024-11-10" data-for="PKM/Diary/2024-11-10">2024-11-10</a></li><li><a href="../../PKM/Diary/2024-11-11" data-for="PKM/Diary/2024-11-11">2024-11-11</a></li><li><a href="../../PKM/Diary/2024-11-12" data-for="PKM/Diary/2024-11-12">2024-11-12</a></li><li><a href="../../PKM/Diary/2024-11-13" data-for="PKM/Diary/2024-11-13">2024-11-13</a></li><li><a href="../../PKM/Diary/2024-11-14" data-for="PKM/Diary/2024-11-14">2024-11-14</a></li><li><a href="../../PKM/Diary/2024-11-17" data-for="PKM/Diary/2024-11-17">2024-11-17</a></li><li><a href="../../PKM/Diary/2024-11-18" data-for="PKM/Diary/2024-11-18">2024-11-18</a></li><li><a href="../../PKM/Diary/2024-11-19" data-for="PKM/Diary/2024-11-19">2024-11-19</a></li><li><a href="../../PKM/Diary/2024-11-20" data-for="PKM/Diary/2024-11-20">2024-11-20</a></li><li><a href="../../PKM/Diary/2024-11-21" data-for="PKM/Diary/2024-11-21">2024-11-21</a></li><li><a href="../../PKM/Diary/2024-11-24" data-for="PKM/Diary/2024-11-24">2024-11-24 10:15</a></li><li><a href="../../PKM/Diary/2025-02-08" data-for="PKM/Diary/2025-02-08">2025-02-08</a></li><li><a href="../../PKM/Diary/2025-02-09" data-for="PKM/Diary/2025-02-09">2025-02-09</a></li><li><a href="../../PKM/Diary/2025-02-10" data-for="PKM/Diary/2025-02-10">2025-02-10</a></li><li><a href="../../PKM/Diary/2025-02-11" data-for="PKM/Diary/2025-02-11">2025-02-11</a></li><li><a href="../../PKM/Diary/2025-02-12" data-for="PKM/Diary/2025-02-12">2025-02-12</a></li><li><a href="../../PKM/Diary/2025-02-13" data-for="PKM/Diary/2025-02-13">2025-02-13</a></li><li><a href="../../PKM/Diary/2025-02-14" data-for="PKM/Diary/2025-02-14">2025-02-14</a></li><li><a href="../../PKM/Diary/2025-02-15" data-for="PKM/Diary/2025-02-15">2025-02-15</a></li><li><a href="../../PKM/Diary/2025-02-16" data-for="PKM/Diary/2025-02-16">2025-02-16</a></li><li><a href="../../PKM/Diary/2025-02-17" data-for="PKM/Diary/2025-02-17">2025-02-17</a></li><li><a href="../../PKM/Diary/2025-02-18" data-for="PKM/Diary/2025-02-18">2025-02-18</a></li><li><a href="../../PKM/Diary/2025-02-19" data-for="PKM/Diary/2025-02-19">2025-02-19</a></li><li><a href="../../PKM/Diary/2025-02-20" data-for="PKM/Diary/2025-02-20">2025-02-20</a></li><li><a href="../../PKM/Diary/2025-02-21" data-for="PKM/Diary/2025-02-21">2025-02-21</a></li><li><a href="../../PKM/Diary/2025-02-22" data-for="PKM/Diary/2025-02-22">2025-02-22</a></li><li><a href="../../PKM/Diary/日记聚合工作流" data-for="PKM/Diary/日记聚合工作流">日记聚合工作流</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/Source"><button class="folder-button"><span class="folder-title">Source</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/Source"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/Source/术语表"><button class="folder-button"><span class="folder-title">术语表</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/Source/术语表"><li><a href="../../PKM/Source/术语表/本库术语" data-for="PKM/Source/术语表/本库术语">本库术语</a></li><li><a href="../../PKM/Source/术语表/CD" data-for="PKM/Source/术语表/CD">CD</a></li><li><a href="../../PKM/Source/术语表/CI" data-for="PKM/Source/术语表/CI">CI</a></li><li><a href="../../PKM/Source/术语表/DNS" data-for="PKM/Source/术语表/DNS">DNS</a></li></ul></div></li><li><a href="../../PKM/Source/【记录】简悦使用记录" data-for="PKM/Source/【记录】简悦使用记录">【记录】简悦使用记录</a></li><li><a href="../../PKM/Source/【记录】建站" data-for="PKM/Source/【记录】建站">【记录】建站</a></li><li><a href="../../PKM/Source/【记录】将个人博客部署到Netlify" data-for="PKM/Source/【记录】将个人博客部署到Netlify">【记录】将个人博客部署到Netlify</a></li><li><a href="../../PKM/Source/【记录】数字花园项目的图片懒加载" data-for="PKM/Source/【记录】数字花园项目的图片懒加载">【记录】数字花园项目的图片懒加载</a></li><li><a href="../../PKM/Source/【记录】数字花园项目优化" data-for="PKM/Source/【记录】数字花园项目优化">【记录】数字花园项目优化</a></li><li><a href="../../PKM/Source/【记录】重构GTD-OS" data-for="PKM/Source/【记录】重构GTD-OS">【记录】重构GTD OS</a></li><li><a href="../../PKM/Source/【记录】WSL2配置代理" data-for="PKM/Source/【记录】WSL2配置代理">【记录】WSL2配置代理</a></li><li><a href="../../PKM/Source/标准化内容" data-for="PKM/Source/标准化内容">标准化内容</a></li><li><a href="../../PKM/Source/过秦论" data-for="PKM/Source/过秦论">过秦论</a></li><li><a href="../../PKM/Source/积分系统" data-for="PKM/Source/积分系统">积分系统</a></li><li><a href="../../PKM/Source/清单" data-for="PKM/Source/清单">清单</a></li><li><a href="../../PKM/Source/数字花园概述" data-for="PKM/Source/数字花园概述">数字花园概述</a></li><li><a href="../../PKM/Source/随笔工作流" data-for="PKM/Source/随笔工作流">随笔工作流</a></li><li><a href="../../PKM/Source/未命名" data-for="PKM/Source/未命名">未命名</a></li><li><a href="../../PKM/Source/习惯养成" data-for="PKM/Source/习惯养成">习惯养成</a></li><li><a href="../../PKM/Source/信息源" data-for="PKM/Source/信息源">信息源</a></li><li><a href="../../PKM/Source/知识地图" data-for="PKM/Source/知识地图">知识地图</a></li><li><a href="../../PKM/Source/知识聚合工作流" data-for="PKM/Source/知识聚合工作流">知识聚合工作流</a></li><li><a href="../../PKM/Source/ACCESS-笔记组织法" data-for="PKM/Source/ACCESS-笔记组织法">ACCESS 笔记组织法</a></li><li><a href="../../PKM/Source/ACCESS笔记组织法" data-for="PKM/Source/ACCESS笔记组织法">ACCESS笔记组织法</a></li><li><a href="../../PKM/Source/Angular" data-for="PKM/Source/Angular">Angular</a></li><li><a href="../../PKM/Source/Angular-19-新特性" data-for="PKM/Source/Angular-19-新特性">Angular 19 新特性</a></li><li><a href="../../PKM/Source/Angular.json" data-for="PKM/Source/Angular.json">Angular.json</a></li><li><a href="../../PKM/Source/Baba-is-you" data-for="PKM/Source/Baba-is-you">Baba is you</a></li><li><a href="../../PKM/Source/decorator" data-for="PKM/Source/decorator">decorator</a></li><li><a href="../../PKM/Source/NeoVim折腾记录" data-for="PKM/Source/NeoVim折腾记录">NeoVim折腾记录</a></li><li><a href="../../PKM/Source/npm" data-for="PKM/Source/npm">npm</a></li><li><a href="../../PKM/Source/npm-packages" data-for="PKM/Source/npm-packages">npm packages</a></li><li><a href="../../PKM/Source/Obsidian" data-for="PKM/Source/Obsidian">Obsidian</a></li><li><a href="../../PKM/Source/obsidian插件" data-for="PKM/Source/obsidian插件">obsidian插件</a></li><li><a href="../../PKM/Source/PARA笔记组织法" data-for="PKM/Source/PARA笔记组织法">PARA笔记组织法</a></li><li><a href="../../PKM/Source/patch-package" data-for="PKM/Source/patch-package">patch-package</a></li><li><a href="../../PKM/Source/PKM" data-for="PKM/Source/PKM">PKM</a></li><li><a href="../../PKM/Source/Roadmap-for-Angular" data-for="PKM/Source/Roadmap-for-Angular">Roadmap for Angular</a></li><li><a href="../../PKM/Source/RSS" data-for="PKM/Source/RSS">RSS</a></li><li><a href="../../PKM/Source/Service-Worker" data-for="PKM/Source/Service-Worker">Service Worker</a></li><li><a href="../../PKM/Source/todos" data-for="PKM/Source/todos">todos</a></li><li><a href="../../PKM/Source/Typescript" data-for="PKM/Source/Typescript">Typescript</a></li><li><a href="../../PKM/Source/Untitled" data-for="PKM/Source/Untitled">Untitled</a></li><li><a href="../../PKM/Source/vscode配置" data-for="PKM/Source/vscode配置">vscode配置</a></li><li><a href="../../PKM/Source/WSL-+-SSH-+-Zellij-+-NeoVim-工作流" data-for="PKM/Source/WSL-+-SSH-+-Zellij-+-NeoVim-工作流">WSL + SSH + Zellij + NeoVim 工作流</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/Topics"><button class="folder-button"><span class="folder-title">Topics</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/Topics"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="PKM/Topics/前端工程化"><button class="folder-button"><span class="folder-title">前端工程化</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="PKM/Topics/前端工程化"><li><a href="../../PKM/Topics/前端工程化/目录结构设计" data-for="PKM/Topics/前端工程化/目录结构设计">目录结构设计</a></li><li><a href="../../PKM/Topics/前端工程化/前端工程化" data-for="PKM/Topics/前端工程化/前端工程化">前端工程化</a></li><li><a href="../../PKM/Topics/前端工程化/DevOps工作流" data-for="PKM/Topics/前端工程化/DevOps工作流">DevOps工作流</a></li><li><a href="../../PKM/Topics/前端工程化/Drawing-2025-02-19-17.21.02.excalidraw" data-for="PKM/Topics/前端工程化/Drawing-2025-02-19-17.21.02.excalidraw">Drawing 2025-02-19 17.21.02.excalidraw</a></li></ul></div></li><li><a href="../../PKM/Topics/方法论汇总" data-for="PKM/Topics/方法论汇总">方法论汇总</a></li><li><a href="../../PKM/Topics/工具及配置" data-for="PKM/Topics/工具及配置">工具及配置</a></li><li><a href="../../PKM/Topics/工作流汇总" data-for="PKM/Topics/工作流汇总">工作流汇总</a></li><li><a href="../../PKM/Topics/怎样组织笔记" data-for="PKM/Topics/怎样组织笔记">怎样组织笔记</a></li><li><a href="../../PKM/Topics/知识管理" data-for="PKM/Topics/知识管理">知识管理</a></li></ul></div></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="SimpRead"><button class="folder-button"><span class="folder-title">SimpRead</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="SimpRead"><li><a href="../../SimpRead/0-AI-复兴-RSS-？" data-for="SimpRead/0-AI-复兴-RSS-？">0-AI 复兴 RSS ？</a></li><li><a href="../../SimpRead/0-AI-复兴-RSS-？@annote" data-for="SimpRead/0-AI-复兴-RSS-？@annote">0-AI 复兴 RSS ？@annote</a></li><li><a href="../../SimpRead/1-如何进入生成式-AI-的新范式" data-for="SimpRead/1-如何进入生成式-AI-的新范式">1-如何进入生成式 AI 的新范式</a></li><li><a href="../../SimpRead/1-如何进入生成式-AI-的新范式@annote" data-for="SimpRead/1-如何进入生成式-AI-的新范式@annote">1-如何进入生成式 AI 的新范式@annote</a></li></ul></div></li></ul></div></li><li id="explorer-end"></li></ul></div></div><div class="toc"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>目录</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#时机" data-for="时机">时机</a></li><li class="depth-0"><a href="#执行顺序" data-for="执行顺序">执行顺序</a></li><li class="depth-0"><a href="#多个装饰器的组合" data-for="多个装饰器的组合">多个装饰器的组合</a></li><li class="depth-0"><a href="#类装饰器" data-for="类装饰器">类装饰器</a></li><li class="depth-0"><a href="#属性装饰器" data-for="属性装饰器">属性装饰器</a></li><li class="depth-0"><a href="#方法装饰器" data-for="方法装饰器">方法装饰器</a></li><li class="depth-0"><a href="#访问器装饰器" data-for="访问器装饰器">访问器装饰器</a></li><li class="depth-0"><a href="#参数装饰器" data-for="参数装饰器">参数装饰器</a></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../PKM/">PKM</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../PKM/Blog/">Blog</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>ReprintTypscriptDecorator</a></div></nav><h1 class="article-title"></h1><p show-comma="true" class="content-meta"><time datetime="2025-02-17T02:13:48.109Z">2025年2月17日</time><span>14分钟阅读</span></p><ul class="tags"><li><a href="../../tags/TS" class="internal tag-link">TS</a></li></ul></div></div><article class="popover-hint"><blockquote>
<p>原文转自：<a href="https://mirone.me/zh-hans/a-complete-guide-to-typescript-decorator/" class="external">https://mirone.me/zh-hans/a-complete-guide-to-typescript-decorator/<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
</blockquote>
<p>装饰器让 TypeScript 的世界更好。 我们使用的许多库都基于这一强大特性构建，例如 <a href="https://angular.io/" class="external">Angular<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> 和 <a href="https://nestjs.com/" class="external">Nestjs<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>。 在这篇博客中我将介绍装饰器和它的许多细节。 我希望在读完这篇文章后，你可以理解何时和如何使用这一强的的特性。</p>
<p>装饰器本质上是一种特殊的函数被应用在于：</p>
<ol>
<li>类</li>
<li>类属性</li>
<li>类方法</li>
<li>类访问器</li>
<li>类方法的参数</li>
</ol>
<p>所以应用装饰器其实很像是组合一系列函数，类似于高阶函数和类。 通过装饰器我们可以轻松实现 <a href="https://zh.wikipedia.org/zh-hans/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F" class="external">代理模式<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> 来使代码更简洁以及实现其它一些更有趣的能力。</p>
<p>装饰器的语法十分简单，只需要在想使用的装饰器前加上 <code>@</code> 符号，装饰器就会被应用到目标上：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function simpleDecorator() {</span></span>
<span data-line><span>  console.log('---hi I am a decorator---')</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>@simpleDecorator</span></span>
<span data-line><span>class A {}</span></span>
<span data-line> </span></code></pre></figure>
<p>一共有 5 种装饰器可被我们使用：</p>
<ol>
<li>类装饰器</li>
<li>属性装饰器</li>
<li>方法装饰器</li>
<li>访问器装饰器</li>
<li>参数装饰器</li>
</ol>
<p>让我们来快速认识一下这五种装饰器：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>@classDecorator</span></span>
<span data-line><span>class Bird {</span></span>
<span data-line> </span>
<span data-line><span>  </span></span>
<span data-line><span>  @propertyDecorator</span></span>
<span data-line><span>  name: string;</span></span>
<span data-line><span>  </span></span>
<span data-line><span>  @methodDecorator</span></span>
<span data-line><span>  fly(</span></span>
<span data-line><span>    </span></span>
<span data-line><span>    @parameterDecorator</span></span>
<span data-line><span>      meters: number</span></span>
<span data-line><span>  ) {}</span></span>
<span data-line><span>  </span></span>
<span data-line><span>  @accessorDecorator</span></span>
<span data-line><span>  get egg() {}</span></span>
<span data-line><span>}</span></span>
<span data-line> </span></code></pre></figure>
<h2 id="时机">时机<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#时机" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>装饰器只在解释执行时应用一次，例如：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function f(C) {</span></span>
<span data-line><span>  console.log('apply decorator')</span></span>
<span data-line><span>  return C</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>@f</span></span>
<span data-line><span>class A {}</span></span>
<span data-line> </span></code></pre></figure>
<p>这里的代码会在终端中打印 <code>apply decorator</code>，即便我们其实并没有使用类 A。</p>
<h2 id="执行顺序">执行顺序<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#执行顺序" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>不同类型的装饰器的执行顺序是明确定义的：</p>
<ol>
<li>实例成员：</li>
</ol>
<p>参数装饰器 <span>→</span> 方法 / 访问器 / 属性 装饰器 2. 静态成员：
参数装饰器 <span>→</span> 方法 / 访问器 / 属性 装饰器 3. 构造器：参数装饰器 4. 类装饰器</p>
<p>例如，考虑以下代码：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function f(key: string): any {</span></span>
<span data-line><span>  console.log(&quot;evaluate: &quot;, key);</span></span>
<span data-line><span>  return function () {</span></span>
<span data-line><span>    console.log(&quot;call: &quot;, key);</span></span>
<span data-line><span>  };</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>@f(&quot;Class Decorator&quot;)</span></span>
<span data-line><span>class C {</span></span>
<span data-line><span>  @f(&quot;Static Property&quot;)</span></span>
<span data-line><span>  static prop?: number;</span></span>
<span data-line> </span>
<span data-line><span>  @f(&quot;Static Method&quot;)</span></span>
<span data-line><span>  static method(@f(&quot;Static Method Parameter&quot;) foo) {}</span></span>
<span data-line> </span>
<span data-line><span>  constructor(@f(&quot;Constructor Parameter&quot;) foo) {}</span></span>
<span data-line> </span>
<span data-line><span>  @f(&quot;Instance Method&quot;)</span></span>
<span data-line><span>  method(@f(&quot;Instance Method Parameter&quot;) foo) {}</span></span>
<span data-line> </span>
<span data-line><span>  @f(&quot;Instance Property&quot;)</span></span>
<span data-line><span>  prop?: number;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span></code></pre></figure>
<p>它将会打印出以下信息：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>evaluate:  Instance Method</span></span>
<span data-line><span>evaluate:  Instance Method Parameter</span></span>
<span data-line><span>call:  Instance Method Parameter</span></span>
<span data-line><span>call:  Instance Method</span></span>
<span data-line><span>evaluate:  Instance Property</span></span>
<span data-line><span>call:  Instance Property</span></span>
<span data-line><span>evaluate:  Static Property</span></span>
<span data-line><span>call:  Static Property</span></span>
<span data-line><span>evaluate:  Static Method</span></span>
<span data-line><span>evaluate:  Static Method Parameter</span></span>
<span data-line><span>call:  Static Method Parameter</span></span>
<span data-line><span>call:  Static Method</span></span>
<span data-line><span>evaluate:  Class Decorator</span></span>
<span data-line><span>evaluate:  Constructor Parameter</span></span>
<span data-line><span>call:  Constructor Parameter</span></span>
<span data-line><span>call:  Class Decorator</span></span>
<span data-line> </span></code></pre></figure>
<p>你也许会注意到执行实例属性 <code>prop</code> 晚于实例方法 <code>method</code> 然而执行静态属性 <code>static prop</code> 早于静态方法 <code>static method</code>。 这是因为对于属性 / 方法 / 访问器装饰器而言，执行顺序取决于声明它们的顺序。</p>
<p>然而，同一方法中不同参数的装饰器的执行顺序是相反的， 最后一个参数的装饰器会最先被执行：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function f(key: string): any {</span></span>
<span data-line><span>  console.log(&quot;evaluate: &quot;, key);</span></span>
<span data-line><span>  return function () {</span></span>
<span data-line><span>    console.log(&quot;call: &quot;, key);</span></span>
<span data-line><span>  };</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>class C {</span></span>
<span data-line><span>  method(</span></span>
<span data-line><span>    @f(&quot;Parameter Foo&quot;) foo,</span></span>
<span data-line><span>    @f(&quot;Parameter Bar&quot;) bar</span></span>
<span data-line><span>  ) {}</span></span>
<span data-line><span>}</span></span>
<span data-line> </span></code></pre></figure>
<p>这里的代码打印出的结果为：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>evaluate:  Parameter Foo</span></span>
<span data-line><span>evaluate:  Parameter Bar</span></span>
<span data-line><span>call:  Parameter Bar</span></span>
<span data-line><span>call:  Parameter Foo</span></span>
<span data-line> </span></code></pre></figure>
<h2 id="多个装饰器的组合">多个装饰器的组合<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#多个装饰器的组合" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>你可以对同一目标应用多个装饰器。它们的组合顺序为：</p>
<ol>
<li>求值外层装饰器</li>
<li>求值内层装饰器</li>
<li>调用内层装饰器</li>
<li>调用外层装饰器</li>
</ol>
<p>例如：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function f(key: string) {</span></span>
<span data-line><span>  console.log(&quot;evaluate: &quot;, key);</span></span>
<span data-line><span>  return function () {</span></span>
<span data-line><span>    console.log(&quot;call: &quot;, key);</span></span>
<span data-line><span>  };</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>class C {</span></span>
<span data-line><span>  @f(&quot;Outer Method&quot;)</span></span>
<span data-line><span>  @f(&quot;Inner Method&quot;)</span></span>
<span data-line><span>  method() {}</span></span>
<span data-line><span>}</span></span>
<span data-line> </span></code></pre></figure>
<p>这里的代码打印出的结果为：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>evaluate: Outer Method</span></span>
<span data-line><span>evaluate: Inner Method</span></span>
<span data-line><span>call: Inner Method</span></span>
<span data-line><span>call: Outer Method</span></span>
<span data-line> </span></code></pre></figure>
<h2 id="类装饰器">类装饰器<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#类装饰器" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>类型声明：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>type ClassDecorator = &lt;TFunction extends Function></span></span>
<span data-line><span>  (target: TFunction) => TFunction | void;</span></span>
<span data-line> </span></code></pre></figure>
<ul>
<li>@参数：
<ol>
<li><code>target</code>: 类的构造器。</li>
</ol>
</li>
<li>@返回：
如果类装饰器返回了一个值，她将会被用来代替原有的类构造器的声明。</li>
</ul>
<p>因此，类装饰器适合用于继承一个现有类并添加一些属性和方法。</p>
<p>例如我们可以添加一个 <code>toString</code> 方法给所有的类来覆盖它原有的 <code>toString</code> 方法。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>type Consturctor = { new (...args: any[]): any };</span></span>
<span data-line> </span>
<span data-line><span>function toString&lt;T extends Consturctor>(BaseClass: T) {</span></span>
<span data-line><span>  return class extends BaseClass {</span></span>
<span data-line><span>    toString() {</span></span>
<span data-line><span>      return JSON.stringify(this);</span></span>
<span data-line><span>    }</span></span>
<span data-line><span>  };</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>@toString</span></span>
<span data-line><span>class C {</span></span>
<span data-line><span>  public foo = &quot;foo&quot;;</span></span>
<span data-line><span>  public num = 24;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>console.log(new C().toString())</span></span>
<span data-line> </span></code></pre></figure>
<p>遗憾的是装饰器并没有类型保护，这意味着：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>declare function Blah&lt;T>(target: T): T &amp; {foo: number}</span></span>
<span data-line> </span>
<span data-line><span>@Blah</span></span>
<span data-line><span>class Foo {</span></span>
<span data-line><span>  bar() {</span></span>
<span data-line><span>    return this.foo; </span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>new Foo().foo; </span></span>
<span data-line> </span></code></pre></figure>
<p>这是 <a href="https://github.com/microsoft/TypeScript/issues/4881" class="external">一个 TypeScript 的已知的缺陷<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>。 目前我们能做的只有额外提供一个类用于提供类型信息：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>declare function Blah&lt;T>(target: T): T &amp; {foo: number}</span></span>
<span data-line> </span>
<span data-line><span>class Base {</span></span>
<span data-line><span>  foo: number;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>@Blah</span></span>
<span data-line><span>class Foo extends Base {</span></span>
<span data-line><span>  bar() {</span></span>
<span data-line><span>    return this.foo;</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>new Foo().foo;</span></span>
<span data-line> </span></code></pre></figure>
<h2 id="属性装饰器">属性装饰器<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#属性装饰器" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>类型声明：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>type PropertyDecorator =</span></span>
<span data-line><span>  (target: Object, propertyKey: string | symbol) => void;</span></span>
<span data-line> </span></code></pre></figure>
<ul>
<li>@参数：
<ol>
<li><code>target</code>: 对于静态成员来说是类的构造器，对于实例成员来说是类的原型链。</li>
<li><code>propertyKey</code>: 属性的名称。</li>
</ol>
</li>
<li>@返回：
返回的结果将被忽略。</li>
</ul>
<p>除了用于收集信息外，属性装饰器也可以用来给类添加额外的方法和属性。 例如我们可以写一个装饰器来给某些属性添加监听器。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function capitalizeFirstLetter(str: string) {</span></span>
<span data-line><span>  return str.charAt(0).toUpperCase() + str.slice(1);</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>function observable(target: any, key: string): any {</span></span>
<span data-line><span>  </span></span>
<span data-line><span>  const targetKey = &quot;on&quot; + capitalizeFirstLetter(key) + &quot;Change&quot;;</span></span>
<span data-line> </span>
<span data-line><span>  target[targetKey] =</span></span>
<span data-line><span>    function (fn: (prev: any, next: any) => void) {</span></span>
<span data-line><span>      let prev = this[key];</span></span>
<span data-line><span>      Reflect.defineProperty(this, key, {</span></span>
<span data-line><span>        set(next) {</span></span>
<span data-line><span>          fn(prev, next);</span></span>
<span data-line><span>          prev = next;</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>      })</span></span>
<span data-line><span>    };</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>class C {</span></span>
<span data-line><span>  @observable</span></span>
<span data-line><span>  foo = -1;</span></span>
<span data-line> </span>
<span data-line><span>  @observable</span></span>
<span data-line><span>  bar = &quot;bar&quot;;</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>const c = new C();</span></span>
<span data-line> </span>
<span data-line><span>c.onFooChange((prev, next) => console.log(`prev: ${prev}, next: ${next}`))</span></span>
<span data-line><span>c.onBarChange((prev, next) => console.log(`prev: ${prev}, next: ${next}`))</span></span>
<span data-line> </span>
<span data-line><span>c.foo = 100; </span></span>
<span data-line><span>c.foo = -3.14; </span></span>
<span data-line><span>c.bar = &quot;baz&quot;; </span></span>
<span data-line><span>c.bar = &quot;sing&quot;; </span></span>
<span data-line> </span></code></pre></figure>
<h2 id="方法装饰器">方法装饰器<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#方法装饰器" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>类型声明：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>type MethodDecorator = &lt;T>(</span></span>
<span data-line><span>  target: Object,</span></span>
<span data-line><span>  propertyKey: string | symbol,</span></span>
<span data-line><span>  descriptor: TypedPropertyDescriptor&lt;T></span></span>
<span data-line><span>) => TypedPropertyDescriptor&lt;T> | void;</span></span>
<span data-line> </span></code></pre></figure>
<ul>
<li>@参数：
<ol>
<li><code>target</code>: 对于静态成员来说是类的构造器，对于实例成员来说是类的原型链。</li>
<li><code>propertyKey</code>: 属性的名称。</li>
<li><code>descriptor</code>: 属性的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" class="external">描述器<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>。</li>
</ol>
</li>
<li>@返回： 如果返回了值，它会被用于替代属性的描述器。</li>
</ul>
<p>方法装饰器不同于属性装饰器的地方在于 <code>descriptor</code> 参数。 通过这个参数我们可以修改方法原本的实现，添加一些共用逻辑。 例如我们可以给一些方法添加打印输入与输出的能力：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function logger(target: any, propertyKey: string, descriptor: PropertyDescriptor) {</span></span>
<span data-line><span>  const original = descriptor.value;</span></span>
<span data-line> </span>
<span data-line><span>  descriptor.value = function (...args) {</span></span>
<span data-line><span>    console.log('params: ', ...args);</span></span>
<span data-line><span>    const result = original.call(this, ...args);</span></span>
<span data-line><span>    console.log('result: ', result);</span></span>
<span data-line><span>    return result;</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>class C {</span></span>
<span data-line><span>  @logger</span></span>
<span data-line><span>  add(x: number, y:number ) {</span></span>
<span data-line><span>    return x + y;</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>const c = new C();</span></span>
<span data-line><span>c.add(1, 2);</span></span>
<span data-line> </span></code></pre></figure>
<h2 id="访问器装饰器">访问器装饰器<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#访问器装饰器" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>访问器装饰器总体上讲和方法装饰器很接近，唯一的区别在于描述器中有的 key 不同：</p>
<p>方法装饰器的描述器的 key 为：</p>
<ul>
<li><code>value</code></li>
<li><code>writable</code></li>
<li><code>enumerable</code></li>
<li><code>configurable</code></li>
</ul>
<p>访问器装饰器的描述器的 key 为：</p>
<ul>
<li><code>get</code></li>
<li><code>set</code></li>
<li><code>enumerable</code></li>
<li><code>configurable</code></li>
</ul>
<p>例如，我们可以将某个属性设为不可变值：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>function immutable(target: any, propertyKey: string, descriptor: PropertyDescriptor) {</span></span>
<span data-line><span>  const original = descriptor.set;</span></span>
<span data-line> </span>
<span data-line><span>  descriptor.set = function (value: any) {</span></span>
<span data-line><span>    return original.call(this, { ...value })</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>class C {</span></span>
<span data-line><span>  private _point = { x: 0, y: 0 }</span></span>
<span data-line> </span>
<span data-line><span>  @immutable</span></span>
<span data-line><span>  set point(value: { x: number, y: number }) {</span></span>
<span data-line><span>    this._point = value;</span></span>
<span data-line><span>  }</span></span>
<span data-line> </span>
<span data-line><span>  get point() {</span></span>
<span data-line><span>    return this._point;</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>const c = new C();</span></span>
<span data-line><span>const point = { x: 1, y: 1 }</span></span>
<span data-line><span>c.point = point;</span></span>
<span data-line> </span>
<span data-line><span>console.log(c.point === point)</span></span>
<span data-line> </span></code></pre></figure>
<h2 id="参数装饰器">参数装饰器<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#参数装饰器" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>类型声明：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>type ParameterDecorator = (</span></span>
<span data-line><span>  target: Object,</span></span>
<span data-line><span>  propertyKey: string | symbol,</span></span>
<span data-line><span>  parameterIndex: number</span></span>
<span data-line><span>) => void;</span></span>
<span data-line> </span></code></pre></figure>
<ul>
<li>@参数：
<ol>
<li><code>target</code>: 对于静态成员来说是类的构造器，对于实例成员来说是类的原型链。</li>
<li><code>propertyKey</code>: 属性的名称 （注意是方法的名称，而不是参数的名称）。</li>
<li><code>parameterIndex</code>: 参数在方法中所处的位置的下标。</li>
</ol>
</li>
<li>@返回：
返回的值将会被忽略。</li>
</ul>
<p>单独的参数装饰器能做的事情很有限，它一般都被用于记录可被其它装饰器使用的信息。</p>
<p>对于一些复杂场景， 我们可能需要结合使用不同的装饰器。 例如如果我们不仅想给我们的接口添加静态检查，还想加上运行时检查的能力。</p>
<p>我们可以用 3 个步骤来实现这个功能：</p>
<ol>
<li>标记需要检查的参数 （因为参数装饰器先于方法装饰器执行）。</li>
<li>改变方法的 <code>descriptor</code> 的 <code>value</code> 的值，先运行参数检查器，如果失败就抛出异常。</li>
<li>运行原有的接口实现。</li>
</ol>
<p>以下是代码：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>type Validator = (x: any) => boolean;</span></span>
<span data-line> </span>
<span data-line><span>const validateMap: Record&lt;string, Validator[]> = {};</span></span>
<span data-line> </span>
<span data-line><span>function typedDecoratorFactory(validator: Validator): ParameterDecorator {</span></span>
<span data-line><span>  return (_, key, index) => {</span></span>
<span data-line><span>    const target = validateMap[key as string] ?? [];</span></span>
<span data-line><span>    target[index] = validator;</span></span>
<span data-line><span>    validateMap[key as string] = target;</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>function validate(_: Object, key: string, descriptor: PropertyDescriptor) {</span></span>
<span data-line><span>  const originalFn = descriptor.value;</span></span>
<span data-line><span>  descriptor.value = function(...args: any[]) {</span></span>
<span data-line> </span>
<span data-line><span>    </span></span>
<span data-line><span>    const validatorList = validateMap[key];</span></span>
<span data-line><span>    if (validatorList) {</span></span>
<span data-line><span>      args.forEach((arg, index) => {</span></span>
<span data-line><span>        const validator = validatorList[index];</span></span>
<span data-line> </span>
<span data-line><span>        if (!validator) return;</span></span>
<span data-line> </span>
<span data-line><span>        const result = validator(arg);</span></span>
<span data-line> </span>
<span data-line><span>        if (!result) {</span></span>
<span data-line><span>          throw new Error(</span></span>
<span data-line><span>            `Failed for parameter: ${arg} of the index: ${index}`</span></span>
<span data-line><span>          );</span></span>
<span data-line><span>        }</span></span>
<span data-line><span>      });</span></span>
<span data-line><span>    }</span></span>
<span data-line> </span>
<span data-line><span>    </span></span>
<span data-line><span>    return originalFn.call(this, ...args);</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>const isInt = typedDecoratorFactory((x) => Number.isInteger(x));</span></span>
<span data-line><span>const isString = typedDecoratorFactory((x) => typeof x === 'string');</span></span>
<span data-line> </span>
<span data-line><span>class C {</span></span>
<span data-line><span>  @validate</span></span>
<span data-line><span>  sayRepeat(@isString word: string, @isInt x: number) {</span></span>
<span data-line><span>    return Array(x).fill(word).join('');</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>const c = new C();</span></span>
<span data-line><span>c.sayRepeat('hello', 2); </span></span>
<span data-line><span>c.sayRepeat('', 'lol' as any); </span></span>
<span data-line> </span></code></pre></figure>
<p>正如例子中展示的， 对我们来说同时理解不同种类装饰器的执行顺序和职责都很重要。</p>
<p>严格地说，元数据和装饰器是 EcmaScript 中两个独立的部分。 然而，如果你想实现像是 <a href="https://zh.wikipedia.org/wiki/%E5%8F%8D%E5%B0%84_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)" class="external">反射<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> 这样的能力，你总是同时需要它们。</p>
<p>如果我们回顾上一个例子，如果我们不想写各种不同的检查器呢？ 或者说，能否只写一个检查器能够通过我们编写的 TS 类型声明来自动运行类型检查？</p>
<p>有了 <a href="https://github.com/rbuckton/reflect-metadata" class="external">reflect-metadata<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> 的帮助， 我们可以获取编译期的类型。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Javascript" data-theme="github-light github-dark"><code data-language="Javascript" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>import 'reflect-metadata';</span></span>
<span data-line> </span>
<span data-line><span>function validate(</span></span>
<span data-line><span>  target: Object,</span></span>
<span data-line><span>  key: string,</span></span>
<span data-line><span>  descriptor: PropertyDescriptor</span></span>
<span data-line><span>) {</span></span>
<span data-line><span>  const originalFn = descriptor.value;</span></span>
<span data-line> </span>
<span data-line><span>  </span></span>
<span data-line><span>  const designParamTypes = Reflect</span></span>
<span data-line><span>    .getMetadata('design:paramtypes', target, key);</span></span>
<span data-line> </span>
<span data-line><span>  descriptor.value = function (...args: any[]) {</span></span>
<span data-line><span>    args.forEach((arg, index) => {</span></span>
<span data-line> </span>
<span data-line><span>      const paramType = designParamTypes[index];</span></span>
<span data-line> </span>
<span data-line><span>      const result = arg.constructor === paramType</span></span>
<span data-line><span>        || arg instanceof paramType;</span></span>
<span data-line> </span>
<span data-line><span>      if (!result) {</span></span>
<span data-line><span>        throw new Error(</span></span>
<span data-line><span>          `Failed for validating parameter: ${arg} of the index: ${index}`</span></span>
<span data-line><span>        );</span></span>
<span data-line><span>      }</span></span>
<span data-line><span>    });</span></span>
<span data-line> </span>
<span data-line><span>    return originalFn.call(this, ...args);</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>class C {</span></span>
<span data-line><span>  @validate</span></span>
<span data-line><span>  sayRepeat(word: string, x: number) {</span></span>
<span data-line><span>    return Array(x).fill(word).join('');</span></span>
<span data-line><span>  }</span></span>
<span data-line><span>}</span></span>
<span data-line> </span>
<span data-line><span>const c = new C();</span></span>
<span data-line><span>c.sayRepeat('hello', 2); </span></span>
<span data-line><span>c.sayRepeat('', 'lol' as any); </span></span>
<span data-line> </span></code></pre></figure>
<p>目前为止一共有三种编译期类型可以拿到：</p>
<ul>
<li><code>design:type</code>: 属性的类型。</li>
<li><code>desin:paramtypes</code>: 方法的参数的类型。</li>
<li><code>design:returntype</code>: 方法的返回值的类型。</li>
</ul>
<p>这三种方式拿到的结果都是构造函数（例如 <code>String</code> 和 <code>Number</code>）。规则是：</p>
<ul>
<li>number <span>→</span> <code>Number</code></li>
<li>string <span>→</span> <code>String</code></li>
<li>boolean <span>→</span> <code>Boolean</code></li>
<li>void/null/never <span>→</span> <code>undefined</code></li>
<li>Array/Tuple <span>→</span> <code>Array</code></li>
<li>Class <span>→</span> 类的构造函数</li>
<li>Enum <span>→</span> 如果是纯数字枚举则为 <code>Number</code>, 否则是 <code>Object</code></li>
<li>Function <span>→</span> <code>Function</code></li>
<li>其余都是 <code>Object</code></li>
</ul>
<p>现在我们可以对于何时使用装饰器得出结论， 在阅读上面的代码中你可能也有所感觉。</p>
<p>我将例举一些常用的使用场景：</p>
<ul>
<li>Before/After 钩子。</li>
<li>监听属性改变或者方法调用。</li>
<li>对方法的参数做转换。</li>
<li>添加额外的方法和属性。</li>
<li>运行时类型检查。</li>
<li>自动编解码。</li>
<li>依赖注入。</li>
</ul>
<p>我希望读完这篇文章后，你可以找到装饰器的更多使用场景，并且用它来简化你的代码。</p></article><hr/><div class="page-footer"><div class="giscus" data-repo="ped-yc/dg.pedyc" data-repo-id="R_kgDOMwI1yg" data-category="Announcements" data-category-id="DIC_kwDOMwI1ys4Civ4e" data-mapping="url" data-strict="1" data-reactions-enabled="1" data-input-position="bottom" data-light-theme="light" data-dark-theme="dark" data-theme-url="https://example.com/static/giscus"></div></div></div><div class="right sidebar"><div class="graph"><h3>关系图谱</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>目录</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#时机" data-for="时机">时机</a></li><li class="depth-0"><a href="#执行顺序" data-for="执行顺序">执行顺序</a></li><li class="depth-0"><a href="#多个装饰器的组合" data-for="多个装饰器的组合">多个装饰器的组合</a></li><li class="depth-0"><a href="#类装饰器" data-for="类装饰器">类装饰器</a></li><li class="depth-0"><a href="#属性装饰器" data-for="属性装饰器">属性装饰器</a></li><li class="depth-0"><a href="#方法装饰器" data-for="方法装饰器">方法装饰器</a></li><li class="depth-0"><a href="#访问器装饰器" data-for="访问器装饰器">访问器装饰器</a></li><li class="depth-0"><a href="#参数装饰器" data-for="参数装饰器">参数装饰器</a></li></ul></div></div><div class="recent-notes"><h3>最近的笔记</h3><ul class="recent-ul"><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../../PKM/关于本库/数字花园相关设计" class="internal">数字花园相关设计</a></h3></div><p class="meta"><time datetime="2025-02-20T18:31:28.681Z">2025年2月21日</time></p><ul class="tags"></ul></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../../PKM/Diary/日记聚合工作流" class="internal">日记聚合工作流</a></h3></div><p class="meta"><time datetime="2025-02-20T18:07:45.608Z">2025年2月21日</time></p><ul class="tags"></ul></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../../PKM/关于本库/本库设计概述" class="internal">本库设计概述</a></h3></div><p class="meta"><time datetime="2025-02-20T17:22:33.089Z">2025年2月21日</time></p><ul class="tags"></ul></div></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.4.0</a> © 2025</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer><script>var r='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',l='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>';document.addEventListener("nav",()=>{let a=document.getElementsByTagName("pre");for(let t=0;t<a.length;t++){let n=a[t].getElementsByTagName("code")[0];if(n){let o=function(){navigator.clipboard.writeText(i).then(()=>{e.blur(),e.innerHTML=l,setTimeout(()=>{e.innerHTML=r,e.style.borderColor=""},2e3)},d=>console.error(d))};var c=o;let i=(n.dataset.clipboard?JSON.parse(n.dataset.clipboard):n.innerText).replace(/\n\n/g,`
`),e=document.createElement("button");e.className="clipboard-button",e.type="button",e.innerHTML=r,e.ariaLabel="Copy source",e.addEventListener("click",o),window.addCleanup(()=>e.removeEventListener("click",o)),a[t].prepend(e)}}});
</script><script>var l={preloadMargin:"200px",maxConcurrent:3,loadTimeout:5e3,retryCount:2};function L(){let r=0,d=[],i=new Set,n=new WeakMap,u=new IntersectionObserver(e=>{e.forEach(t=>{let o=t.target,a=o.dataset.src||o.src;if(i.has(a)){u.unobserve(o);return}if(t.isIntersecting)o.classList.add("loading"),d.push(o),c(),u.unobserve(o);else{let s=n.get(o);s&&(s.abort(),n.delete(o))}})},{rootMargin:l.preloadMargin,threshold:.01});function c(){"requestIdleCallback"in window?requestIdleCallback(f):setTimeout(f,50)}function f(e){for(;r<l.maxConcurrent&&d.length>0&&(e?.timeRemaining()??1)>0;){let t=d.shift();t&&b(t)}}function b(e){let t=e.dataset.src||e.src;if(i.has(t))return r--,c();let o=new AbortController;n.set(e,o),e.dataset.width&&e.dataset.height&&(e.style.aspectRatio=`${e.dataset.width}/${e.dataset.height}`);let a=0,s=()=>{let h=setTimeout(()=>{o.abort(),e.dispatchEvent(new Event("error"))},l.loadTimeout),m=()=>{clearTimeout(h),console.log("Image loaded:",t),i.add(t),e.classList.remove("loading"),e.classList.add("loaded"),n.delete(e),r--,c()},v=()=>{clearTimeout(h),console.error(`Image load failed: ${t}`),a++<l.retryCount?(console.log(`Retrying (${a}/${l.retryCount}):`,t),setTimeout(s,1e3*a)):(e.classList.remove("loading"),e.classList.add("error"),r--,c())};e.addEventListener("load",m,{once:!0}),e.addEventListener("error",v,{once:!0}),e.src!==t?e.src=t:e.complete&&m()};r++,s()}let g=new ResizeObserver(e=>{e.forEach(t=>{if(!t.contentRect.height){let o=t.target;g.unobserve(o),n.get(o)?.abort()}})});document.querySelectorAll('#quartz-body img[loading="lazy"]').forEach(e=>{u.observe(e),g.observe(e)})}L();document.addEventListener("nav",L);
</script></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">
        const socket = new WebSocket('ws://localhost:3001')
        // reload(true) ensures resources like images and scripts are fetched again in firefox
        socket.addEventListener('message', () => document.location.reload(true))
      </script><script src="../../postscript.js" type="module"></script></html>